(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-signIn"],{"0dfc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sign=n,e.signTime=r;var i=a("6a41");function n(){return i.http.request({url:"/members/sign",method:i.Method.POST,needToken:!0})}function r(t){return i.http.request({url:"/members/sign?time="+t,method:i.Method.GET,needToken:!0})}},3213:function(t,e,a){var i=a("492a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("1708ed35",i,!0,{sourceMap:!1,shadowMode:!1})},3956:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uIcon:a("9ae2").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"sign-in"},[a("v-uni-view",{staticClass:"date-card"},[a("div",{staticClass:"box"},[a("div",{staticClass:"circle-box"},[a("div",{staticClass:"cricle",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.signIn()}}},[t.ifSign?a("span",{class:{active:t.signFlag||t.ifSign},style:t.ifSign?"transform: rotateY(0deg);":""},[t._v("已签")]):a("span",{class:{active:t.signFlag||t.ifSign}},[t._v("签到")])])]),a("v-uni-text",{staticClass:"tips"},[t._v("坚持每天连续签到可以获多重奖励哦")])],1)]),a("div",{staticClass:"date-card"},[a("v-uni-view",{staticClass:"date-con"},[a("v-uni-view",{staticClass:"date-tit"},[a("div",{staticClass:"current-month"},[a("div",{staticClass:"day"},[t._v("每日记录"),a("span",[t._v("("+t._s(t.currentMonth)+")")])])])]),a("v-uni-view",{staticClass:"week"},t._l(t.weekArr,(function(e){return a("v-uni-text",{key:e.id},[t._v(t._s(e))])})),1),t._l(t.dataObj,(function(e){return a("v-uni-view",{key:e.id,staticClass:"date"},t._l(e,(function(e){return a("v-uni-view",{key:e.id,staticClass:"item",class:""==e?"hide":"",attrs:{animation:e==t.currentDay?t.animationData:""}},[a("v-uni-view",{staticClass:"just",class:-1!=t.signArr.indexOf(e)?"active":""},[a("v-uni-view",{staticClass:"top"},[t._v(t._s(e))]),a("v-uni-view",{staticClass:"bottom"},[e<=t.currentDay?a("u-icon",{attrs:{name:"error",color:"#999"}}):t._e()],1)],1),a("v-uni-view",{staticClass:"back",class:-1!=t.signArr.indexOf(e)?"active":"",style:-1!=t.signArr.indexOf(e)&&t.ifSign||-1!=t.signArr.indexOf(e)&&e!=t.currentDay?"transform: rotateY(0deg);":""},[a("v-uni-view",{staticClass:"top"},[t._v(t._s(e))]),a("v-uni-view",{staticClass:"bottom"},[a("u-icon",{attrs:{name:"checkmark",color:t.aiderLightColor}})],1)],1)],1)})),1)}))],2)],1),a("v-uni-view",{ref:"mask",staticClass:"mask",class:{show:t.maskFlag,trans:t.transFlag}},[a("v-uni-view",{staticClass:"mask-header"},[a("v-uni-text",{staticClass:"close"}),a("v-uni-text",[t._v("签到成功")]),a("v-uni-text",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("×")])],1),a("v-uni-view",{staticClass:"mask-con"},[a("u-icon",{staticStyle:{margin:"50rpx 0"},attrs:{size:"120",color:t.aiderLightColor,name:"checkmark"}}),a("v-uni-text",{staticClass:"text"},[t._v("连续签到可获得额外奖励哦！")])],1)],1)],1)},r=[]},"3f8d":function(t,e,a){"use strict";a.r(e);var i=a("3956"),n=a("47d9");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("f655"),a("dfe3");var s,o=a("f0c5"),d=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"396d1323",null,!1,i["a"],s);e["default"]=d.exports},"47d9":function(t,e,a){"use strict";a.r(e);var i=a("834d"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"492a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-396d1323]{color:#ff6b35}.main-color[data-v-396d1323]{color:#ff3c2a!important}.bg-light-color[data-v-396d1323]{background-color:#ff6b35!important}.bg-light-color[data-v-396d1323] *{background-color:#ff6b35!important}.bg-main-color[data-v-396d1323]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-396d1323]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-396d1323]{width:20px;height:18px}.flex[data-v-396d1323]{display:flex}.btn[data-v-396d1323]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-396d1323]::after{border:none}.button-hover[data-v-396d1323]{opacity:.7}.margin[data-v-396d1323]{margin:10px}.tag[data-v-396d1323]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-396d1323]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-396d1323]{margin-top:%?30?%}.border-top[data-v-396d1323]{border-top:1px solid #ebeef5}.describe[data-v-396d1323]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-396d1323]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-396d1323]{align-items:center}.relative[data-v-396d1323]{position:relative}.wes[data-v-396d1323]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-396d1323]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.date-card[data-v-396d1323]{padding:0 %?32?%;margin:%?32?% 0;box-shadow:0 %?4?% %?24?% 0 #f6f6f6}.tips[data-v-396d1323]{margin-top:%?54?%;color:#999;font-size:%?24?%;letter-spacing:%?1?%}.circle-box[data-v-396d1323]{width:%?200?%;height:%?200?%;border-radius:50%;background:#ff9f28;box-shadow:0 %?4?% %?24?% 0 #ff9f28;display:flex;justify-content:center;align-items:center}.cricle[data-v-396d1323]{width:%?160?%;height:%?160?%;border-radius:50%;background:#ff9f28;text-align:center;line-height:%?160?%;color:#fff;font-size:%?40?%}.current-month[data-v-396d1323]{width:100%;margin:%?20?% 0}.box[data-v-396d1323]{display:flex;flex-direction:column;align-items:center;padding:%?64?% %?32?%;background:#fff;border-radius:%?20?%}.sign-in[data-v-396d1323]{color:#333}.sign-in .date-con[data-v-396d1323]{background:#fff;min-height:%?730?%;border-radius:%?20?%;padding:0 %?28?%}.sign-in .day[data-v-396d1323]{font-size:%?36?%}.sign-in .day > span[data-v-396d1323]{font-size:%?30?%;color:#999;margin-left:%?20?%}.sign-in .date-tit[data-v-396d1323]{display:flex;justify-content:space-between;margin:0 0 %?30?% 0}.sign-in .week[data-v-396d1323]{display:flex;justify-content:space-between;color:#a6a6a6;font-size:%?26?%}.sign-in .week uni-text[data-v-396d1323]{width:%?66?%;text-align:center}.sign-in .date[data-v-396d1323]{margin:%?10?% 0 %?36?%;display:flex;justify-content:space-between;flex-wrap:wrap}.sign-in .date .item[data-v-396d1323]{width:%?66?%;height:%?80?%;border-radius:5px;overflow:hidden;position:relative}.sign-in .date .item.hide[data-v-396d1323]{opacity:0}.sign-in .date .item .just[data-v-396d1323],\n.sign-in .date .item .back[data-v-396d1323]{display:flex;flex-direction:column;width:100%;height:100%;position:absolute}.sign-in .date .item .just .top[data-v-396d1323],\n.sign-in .date .item .back .top[data-v-396d1323]{position:relative;flex:1;text-align:center;line-height:%?40?%}.sign-in .date .item .just .top[data-v-396d1323]:before,\n.sign-in .date .item .back .top[data-v-396d1323]:before{content:"";width:%?40?%;height:%?40?%;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:%?15?%}.sign-in .date .item .just.active[data-v-396d1323]{display:none}.sign-in .date .item .back[data-v-396d1323]{display:none}.sign-in .date .item .back.active[data-v-396d1323]{display:flex}.sign-in .date .item .back .top[data-v-396d1323]{color:#ff9f28}.sign-in .date .item .bottom[data-v-396d1323]{color:#999;font-size:%?20?%;height:%?20?%;line-height:%?20?%;text-align:center}.sign-in .mask[data-v-396d1323]{position:fixed;top:0;bottom:0;left:-100%;right:100%;background:rgba(0,0,0,.2);display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transition:opacity .5s}.sign-in .mask.show[data-v-396d1323]{opacity:1;left:0;right:0}.sign-in .mask.trans[data-v-396d1323]{left:0;right:0}.sign-in .mask .mask-header[data-v-396d1323]{width:%?540?%;height:%?130?%;line-height:%?130?%;background:#ff9f28;color:#fff;font-size:%?40?%;font-weight:500;display:flex;justify-content:space-between}.sign-in .mask .mask-header .close[data-v-396d1323]{width:%?60?%;font-size:%?66?%;font-weight:400;line-height:%?60?%}.sign-in .mask .mask-con[data-v-396d1323]{width:%?540?%;height:%?380?%;background:#fff;display:flex;flex-direction:column;align-items:center;color:#999;font-size:%?24?%;border-radius:0 0 9px 9px}.sign-in .mask .mask-con .keep-sign[data-v-396d1323]{font-size:%?30?%;margin-top:%?30?%}.sign-in .mask .mask-con .keep-sign uni-text[data-v-396d1323]{font-size:%?46?%;font-weight:500;color:#999;padding:0 %?6?% 0 %?8?%}.sign-in .mask .mask-con .mark[data-v-396d1323]{display:flex;align-items:flex-end;position:relative;margin-bottom:%?16?%}.sign-in .mask .mask-con .mark uni-text[data-v-396d1323]{margin-left:%?4?%;color:#999}.sign-in .mask .mask-con .text[data-v-396d1323]{color:#6f6f6f;height:%?90?%}',""]),t.exports=e},"834d":function(t,e,a){"use strict";var i=a("4ea4");a("a434"),a("a9e3"),a("ac1f"),a("5319"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=i(a("1da1")),r=a("0dfc"),s={data:function(){return{aiderLightColor:this.$aiderLightColor,signFlag:!1,animationData:{},maskFlag:!1,transFlag:!1,weekArr:["日","一","二","三","四","五","六"],dateArr:[],monthArr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],currentMonth:"",currentMonthIndex:"",currentYear:"",currentDay:"",currentWeek:"",dataObj:[],signArr:[],signAll:[],ifSign:!1}},onLoad:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.signTime)((new Date).getFullYear()+""+t.makeUp((new Date).getMonth()+1));case 2:a=e.sent,t.signAll=a.data.result,t.getDate();case 5:case"end":return e.stop()}}),e)})))()},methods:{makeUp:function(t){return t>=10?t:"0"+t},signIn:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.sign)().then((function(e){if(!t.ifSign&&!t.signFlag){if(200!=e.data.code)return uni.showToast({title:e.data.message,duration:2e3,icon:"none"}),!1;var a=t,i=uni.createAnimation({duration:200,timingFunction:"linear"});t.signArr.push(t.currentDay),t.animation=i,i.rotateY(0).step(),t.animationData=i.export(),setTimeout(function(){a.signFlag=!0,this.maskFlag=!0,this.ifSign=!this.ifSign,i.rotateY(0).step(),this.animationData=i.export()}.bind(t),200)}}));case 2:case"end":return e.stop()}}),e)})))()},close:function(){var t=this;this.maskFlag=!1,this.transFlag=!0,setTimeout((function(){t.transFlag=!1}),500)},getDate:function(){var t=new Date,e=t.getMonth(),a=null;this.currentYear=t.getFullYear(),this.currentMonth=this.monthArr[e],this.currentMonthIndex=e+1,this.currentDay=t.getDate(),this.currentDay==this.signArr[this.signArr.length-1]&&(this.ifSign=!0),a=this.getWeekByDay(this.currentYear+"-"+(e+1)+"-1"),this.getMonthDays(e,a),this.curentSignData()},curentSignData:function(){var t=new Date,e=t.getMonth();this.signArr=[];for(var a=0;a<this.signAll.length;a++){var i=this.signAll[a];i.createTime=i.createTime.split(" ")[0];var n=i.createTime.split("-");Number(n[0])===Number(this.currentYear)&&Number(n[1])===Number(this.currentMonthIndex)&&this.signArr.push(Number(n[2])),Number(n[0])===Number(t.getFullYear())&&Number(n[1])===Number(e+1)&&Number(n[2])===Number(t.getDate())&&(this.ifSign=!0)}},getMonthDays:function(t,e){this.dateArr=[],this.dataObj=[];for(var a=0;a<e;a++)this.dateArr.push("");if(0==t||2==t||4==t||6==t||7==t||9==t||11==t)for(var i=1;i<32;i++)this.dateArr.push(i);if(3==t||5==t||8==t||10==t)for(var n=1;n<31;n++)this.dateArr.push(n);if(1==t)if(this.currentYear%4==0&&this.currentYear%100!=0||this.currentYear%400==0)for(var r=1;r<30;r++)this.dateArr.push(r);else for(var s=1;s<29;s++)this.dateArr.push(s);for(var o=0;o<10;o++)if(this.dateArr.length>7)this.dataObj.push(this.dateArr.splice(0,7));else for(var d=0;d<7-this.dateArr.length;d++)this.dateArr.push("");this.dataObj.push(this.dateArr)},getWeekByDay:function(t){var e=new Date(Date.parse(t.replace(/-/g,"/"))).getDay();return e}}};e.default=s},a8d1:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-396d1323]{background:#f7f7f7}body.?%PAGE?%[data-v-396d1323]{background:#f7f7f7}",""]),t.exports=e},d479:function(t,e,a){var i=a("a8d1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("58b2f4f4",i,!0,{sourceMap:!1,shadowMode:!1})},dfe3:function(t,e,a){"use strict";var i=a("3213"),n=a.n(i);n.a},f655:function(t,e,a){"use strict";var i=a("d479"),n=a.n(i);n.a}}]);