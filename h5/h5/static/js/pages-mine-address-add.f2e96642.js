(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-address-add"],{1311:function(e,t,a){"use strict";a.r(t);var n=a("ad54"),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},1312:function(e,t,a){"use strict";var n=a("d01d"),o=a.n(n);o.a},"298b":function(e,t,a){"use strict";var n=a("4ea4");a("99af"),a("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("5530")),r=a("b67c"),i=n(a("9d93")),s={data:function(){return{config:i.default}},mounted:function(){this.init()},methods:{initMap:function(){var e=this;uni.chooseLocation({success:function(t){e.posToCity(t.latitude,t.longitude).then((function(a){(0,r.getAddressCode)(a.regeocode.addressComponent.citycode,a.regeocode.addressComponent.township).then((function(n){e.$emit("callback",(0,o.default)((0,o.default)((0,o.default)({},a),t),n)),e.$emit("close")}))}))},fail:function(){e.$emit("close")}})},init:function(){this.initMap()},wechatMap:function(){var e=this;uni.authorize({scope:"scope.userLocation",success:function(){e.initMap()},fail:function(){return uni.showModal({content:"检测到您没打开获取地址功能权限，是否去设置打开？",confirmText:"确认",cancelText:"取消",success:function(t){if(!t.confirm)return e.$emit("close"),!1;uni.openSetting({success:function(t){e.initMap()}})}}),!1}})},posToCity:function(e,t){return new Promise((function(a,n){uni.request({url:"https://restapi.amap.com/v3/geocode/regeo",method:"GET",data:{key:i.default.aMapKey,location:"".concat(t,",").concat(e)},success:function(e){var t=e.data,o=t.status,r=t.info;"1"===o?a(t):n(r)},fail:function(e){n(e)}})}))}}};t.default=s},"32fd":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-406a1884]{color:#ff6b35}.main-color[data-v-406a1884]{color:#ff3c2a!important}.bg-light-color[data-v-406a1884]{background-color:#ff6b35!important}.bg-light-color[data-v-406a1884] *{background-color:#ff6b35!important}.bg-main-color[data-v-406a1884]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-406a1884]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-406a1884]{width:20px;height:18px}.flex[data-v-406a1884]{display:flex}.btn[data-v-406a1884]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-406a1884]::after{border:none}.button-hover[data-v-406a1884]{opacity:.7}.margin[data-v-406a1884]{margin:10px}.tag[data-v-406a1884]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-406a1884]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-406a1884]{margin-top:%?30?%}.border-top[data-v-406a1884]{border-top:1px solid #ebeef5}.describe[data-v-406a1884]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-406a1884]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-406a1884]{align-items:center}.relative[data-v-406a1884]{position:relative}.wes[data-v-406a1884]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-406a1884]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.detailAddress[data-v-406a1884] .u-form-item--left{display:flex;align-items:flex-start}.saveBtn[data-v-406a1884],\n.selectAddress[data-v-406a1884]{height:%?70?%;line-height:%?70?%;text-align:center;font-size:%?30?%;background:#ff9f28;color:#fff;width:70%;margin:%?40?% auto 0 auto;border-radius:%?20?%}.selectAddress[data-v-406a1884]{margin-top:%?40?%;background:#fff;color:#ff9f28;border:%?2?% solid #ff9f28}.uForm[data-v-406a1884]{width:94%;overflow:hidden;left:3%;position:relative;top:2%;background:#fff;border-radius:%?20?%;padding:0 0 %?40?% 0}.add-address[data-v-406a1884]{width:100%;padding-top:3%}.add-address[data-v-406a1884] .u-form-item{background-color:#fff;padding:%?24?% %?30?%}.add-address .u-btn[data-v-406a1884]{margin:%?30?% %?30?% 0 %?30?%;background-color:#ff3c2a}.add-address[data-v-406a1884] .u-checkbox{margin:%?30?% %?30?% 0 %?30?%}.add-address[data-v-406a1884] .u-checkbox .u-label-class.u-checkbox__label{color:#909399;font-size:%?24?%}[data-v-406a1884] .u-checkbox__label{font-size:%?28?%}',""]),e.exports=t},"3b73":function(e,t,a){"use strict";a.r(t);var n=a("a406"),o=a("1311");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("1312");var i,s=a("f0c5"),d=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"406a1884",null,!1,n["a"],i);t["default"]=d.exports},6811:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-dd36ee74]{color:#ff6b35}.main-color[data-v-dd36ee74]{color:#ff3c2a!important}.bg-light-color[data-v-dd36ee74]{background-color:#ff6b35!important}.bg-light-color[data-v-dd36ee74] *{background-color:#ff6b35!important}.bg-main-color[data-v-dd36ee74]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-dd36ee74]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-dd36ee74]{width:20px;height:18px}.flex[data-v-dd36ee74]{display:flex}.btn[data-v-dd36ee74]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-dd36ee74]::after{border:none}.button-hover[data-v-dd36ee74]{opacity:.7}.margin[data-v-dd36ee74]{margin:10px}.tag[data-v-dd36ee74]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-dd36ee74]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-dd36ee74]{margin-top:%?30?%}.border-top[data-v-dd36ee74]{border-top:1px solid #ebeef5}.describe[data-v-dd36ee74]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-dd36ee74]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-dd36ee74]{align-items:center}.relative[data-v-dd36ee74]{position:relative}.wes[data-v-dd36ee74]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-dd36ee74]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.mask[data-v-dd36ee74]{visibility:hidden;position:fixed;top:0;right:0;left:0;bottom:0;z-index:1000;background:rgba(0,0,0,.6);opacity:0;transition:all .3s ease}.maskShow[data-v-dd36ee74]{visibility:visible;opacity:1}.cpicker-content[data-v-dd36ee74]{position:fixed;right:0;bottom:0;left:0;background-color:#fff;transition:all .3s ease;-webkit-transform:translateY(100%);transform:translateY(100%);z-index:3000}.cpickerShow[data-v-dd36ee74]{-webkit-transform:translateY(0);transform:translateY(0)}.city-head[data-v-dd36ee74]{width:%?750?%;height:%?88?%;flex-direction:column;border-bottom-width:1px;border-bottom-color:#f4f4f4;border-bottom-style:solid}.city-head-title[data-v-dd36ee74]{font-size:15px;line-height:%?88?%;align-items:center;text-align:center}.clearRightIcon[data-v-dd36ee74]{position:absolute;right:15px;top:12px;font-size:10px;color:#bebebe}.nav-bar[data-v-dd36ee74]{position:relative;z-index:10;height:%?90?%;white-space:nowrap;box-shadow:0 %?2?% %?8?% rgba(0,0,0,.06);background-color:#fff}.nav-item[data-v-dd36ee74]{display:inline-flex!important;width:%?170?%;padding:7px 0;line-height:26px;align-items:center;justify-content:center;color:#303133;position:relative;overflow:hidden;text-overflow:ellipsis}.nav-bar-title[data-v-dd36ee74]{font-size:12px}.current[data-v-dd36ee74]{color:#ff9f28;border-color:#ff9f28;border-bottom-width:%?4?%;border-bottom-style:solid}.current[data-v-dd36ee74]:after{width:50%}.panel-scroll-box[data-v-dd36ee74]{height:%?516?%;margin-top:8px}.flex-row-c-c[data-v-dd36ee74]{display:block;padding-left:25px}.city-text[data-v-dd36ee74]{height:35px;line-height:35px;font-size:13px}.hide[data-v-dd36ee74]{opacity:0}.ischeck[data-v-dd36ee74]{display:inline-flex!important;margin-right:5px;vertical-align:middle}.color[data-v-dd36ee74]{color:#ff6b35}uni-icon[data-v-dd36ee74]{margin-left:%?40?%}',""]),e.exports=t},"734c":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"mask",class:{maskShow:e.showPicker},attrs:{catchtouchmove:"true"},on:{click:[function(t){arguments[0]=t=e.$handleEvent(t),e.hide.apply(void 0,arguments)},function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}],touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}}),a("v-uni-view",{staticClass:"cpicker-content",class:{cpickerShow:e.showPicker}},[a("v-uni-view",{staticClass:"city-head",attrs:{catchtouchmove:"true"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},[a("v-uni-view",{staticClass:"city-head-title"},[e._v(e._s(e.headTitle))]),e.clearRightIcon?a("v-uni-icon",{staticClass:"clearRightIcon",attrs:{type:"clear",size:"20",color:"#cccccc"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hide.apply(void 0,arguments)}}}):e._e()],1),a("v-uni-scroll-view",{staticClass:"nav-bar",attrs:{id:"nav-bar","scroll-x":"true","scroll-with-animation":"true","scroll-left":e.scrollLeft}},e._l(e.tabbars,(function(t,n){return a("v-uni-view",{key:n,staticClass:"nav-item",class:{current:n===e.tabCurrentIndex},attrs:{id:"tab"+n},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTab(n)}}},[a("v-uni-text",{staticClass:"nav-bar-title"},[e._v(e._s(t.localName))])],1)})),1),a("v-uni-view",{staticClass:"city_content"},[a("v-uni-scroll-view",{staticClass:"panel-scroll-box",attrs:{"scroll-y":e.enableScroll,cscrollTop:e.scrollTop,current:e.tabCurrentIndex,"scroll-top":e.scrollTop}},[e._l(e.tabbars[e.tabCurrentIndex].children,(function(t,n){return[a("v-uni-view",{key:n+"_0",staticClass:"flex-row-c-c",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.changCity(e.tabCurrentIndex,t)}}},[a("v-uni-text",{staticClass:"city-text",class:{color:e.tabbars[e.tabCurrentIndex].id==t.id}},[e._v(e._s(t.name))]),e.tabbars[e.tabCurrentIndex].id==t.id?a("v-uni-icon",{staticClass:"ischeck",attrs:{type:"success_no_circle",id:"show"+e.tabCurrentIndex,size:"14",color:e.$lightColor}}):e._e()],1)]}))],2)],1)],1)],1)},r=[]},"7aaf":function(e,t,a){"use strict";a.r(t);var n=a("d81c"),o=a("97ff");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);var i,s=a("f0c5"),d=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"7ae9868e",null,!1,n["a"],i);t["default"]=d.exports},"84ea":function(e,t,a){"use strict";a.r(t);var n=a("734c"),o=a("e3f4");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("f54a");var i,s=a("f0c5"),d=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"dd36ee74",null,!1,n["a"],i);t["default"]=d.exports},8612:function(e,t,a){var n=a("6811");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("4f06").default;o("3dbb2ee5",n,!0,{sourceMap:!1,shadowMode:!1})},"97ff":function(e,t,a){"use strict";a.r(t);var n=a("298b"),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},"9e0d":function(e,t,a){"use strict";var n=a("4ea4");a("a434"),a("d3b7"),a("ac1f"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=n(a("1da1")),r=a("a80a"),i=0,s={name:"UniCityNvue",props:{headTitle:{type:String,default:"区域选择"},pickerSize:{type:[String,String],default:"1"},provinceData:{type:Array,default:function(){return[]}}},data:function(){return{clearRightIcon:!0,scrollLeft:500,scrollTop:0,enableScroll:!0,tabCurrentIndex:0,tabbars:this.provinceData,pickersize:this.pickerSize,showPicker:!1}},methods:{show:function(){var e=this;this.showPicker=!0,0==this.tabbars[0].children.length&&(0,r.getRegionsById)(0).then((function(t){e.tabbars[0].children=t.data.result})),i=uni.getSystemInfoSync().windowWidth},hide:function(){this.showPicker=!1},changeTab:function(e){var t=this,a=e;this.setScroll(a),this.tabCurrentIndex=a,setTimeout((function(){t.getScroll("show"+a)}),10)},getElSize:function(e){var t=this;return new Promise((function(a,n){var o=uni.createSelectorQuery().in(t).select("#"+e);o.fields({size:!0,scrollOffset:!0,rect:!0},(function(e){a(e)})).exec()}))},changCity:function(e,t){var a=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.tabbars[e].id==t.id){n.next=13;break}if(a.tabbars[e].localName=t.name,a.tabbars[e].id=t.id,e<a.tabbars.length-1&&a.tabbars.splice(e+1,a.tabbars.length-e-1),!(a.tabbars.length<a.pickersize)){n.next=11;break}return n.next=7,(0,r.getRegionsById)(t.id);case 7:o=n.sent,0==o.data.result.length?(a.$emit("funcValue",a.tabbars),a.hide()):(i={localName:"请选择",id:"",children:o.data.result},a.tabbars.push(i),a.tabCurrentIndex++,a.scrollTop=0),n.next=13;break;case 11:a.$emit("funcValue",a.tabbars),a.hide();case 13:case"end":return n.stop()}}),n)})))()},setScroll:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var n,o,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=0,o=0,r=0;case 3:if(!(r<=e)){a.next=12;break}return a.next=6,t.getElSize("tab"+r);case 6:s=a.sent,n+=s.width,r===e&&(o=s.width);case 9:r++,a.next=3;break;case 12:t.scrollLeft=n+o>i?n+o:0;case 13:case"end":return a.stop()}}),a)})))()},getScroll:function(e){var t=this;uni.createSelectorQuery().in(this).select(".panel-scroll-box").boundingClientRect((function(a){uni.createSelectorQuery().in(t).select("#"+e).boundingClientRect((function(e){void 0!=e&&null!=e&&""!=e&&(t.scrollTop=e.top-a.top)})).exec()})).exec()}}};t.default=s},a406:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var n={uForm:a("251f").default,uFormItem:a("47a4").default,uInput:a("7391").default,uCheckboxGroup:a("0369").default,uCheckbox:a("4a73").default,mCity:a("84ea").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"add-address"},[a("div",{staticClass:"uForm"},[a("u-form",{ref:"uForm",attrs:{"border-bottom":!1,model:e.form,"error-type":["toast"],rule:e.rules}},[a("v-uni-view",{staticClass:"selectAddress",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickUniMap.apply(void 0,arguments)}}},[e._v("选择收货地址")]),a("u-form-item",{staticClass:"border",attrs:{label:"收货人","label-width":"130",prop:"name"}},[a("u-input",{attrs:{clearable:!0,placeholder:"请输入收货人姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("u-form-item",{attrs:{label:"手机号码","label-width":"130",prop:"mobile"}},[a("u-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入收货人手机号码"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("u-form-item",{attrs:{label:"所在区域","label-width":"130",prop:"___path"}},[a("u-input",{attrs:{type:"select",placeholder:"请选择所在地区"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPicker.apply(void 0,arguments)}},model:{value:e.form.___path,callback:function(t){e.$set(e.form,"___path",t)},expression:"form.___path"}})],1),a("u-form-item",{staticClass:"detailAddress",attrs:{label:"详细地址","label-width":"130",prop:"detail"}},[a("u-input",{attrs:{type:"textarea",maxlength:"100",height:"150",placeholder:"街道楼牌号等"},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}})],1),a("u-form-item",{attrs:{label:"地址别名","label-width":"130"}},[a("u-input",{attrs:{placeholder:"请输入地址别名"},model:{value:e.form.alias,callback:function(t){e.$set(e.form,"alias",t)},expression:"form.alias"}})],1),a("u-checkbox-group",{attrs:{shape:"circle",size:"30"}},[a("u-checkbox",{attrs:{"active-color":e.lightColor},model:{value:e.form.isDefault,callback:function(t){e.$set(e.form,"isDefault",t)},expression:"form.isDefault"}},[e._v("设为默认地址")])],1),a("div",{staticClass:"saveBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save.apply(void 0,arguments)}}},[e._v("保存")])],1),a("m-city",{ref:"cityPicker",attrs:{provinceData:e.list,headTitle:"区域选择",pickerSize:"4"},on:{funcValue:function(t){arguments[0]=t=e.$handleEvent(t),e.getpickerParentValue.apply(void 0,arguments)}}}),e.mapFlage?a("uniMap",{on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.closeMap.apply(void 0,arguments)},callback:function(t){arguments[0]=t=e.$handleEvent(t),e.callBackAddress.apply(void 0,arguments)}}}):e._e()],1)])},r=[]},a80a:function(e,t,a){"use strict";var n=a("4ea4");a("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.getRegionsById=i,t.getIMDetail=s,t.upload=void 0;var o=a("6a41"),r=n(a("c419"));function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o.http.request({url:"".concat(r.default.common,"/common/region/item/").concat(e),method:o.Method.GET,message:!1})}function s(){return o.http.request({url:"".concat(r.default.common,"/IM"),method:o.Method.GET,message:!1})}var d=r.default.common+"/common/upload/file";t.upload=d},ad54:function(e,t,a){"use strict";var n=a("4ea4");a("4de4"),a("4160"),a("ac1f"),a("1276"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=n(a("1da1")),r=a("b67c"),i=n(a("84ea")),s=n(a("7aaf")),d=n(a("fe11")),l={components:{"m-city":i.default,uniMap:s.default},onShow:function(){},methods:{closeMap:function(){this.mapFlage=!1},clickUniMap:function(){this.mapFlage=!0},refuseMapOuther:function(){uni.showModal({title:"温馨提示",content:"您已拒绝定位,请开启",confirmText:"去设置",success:function(e){e.confirm&&uni.getSystemInfo({success:function(e){if("ios"==e.platform)plus.runtime.openURL("app-settings://");else if("android"==e.platform){var t=plus.android.runtimeMainActivity(),a=plus.android.importClass("android.content.Intent"),n=new a("android.settings.ACTION_SETTINGS");t.startActivity(n)}}})}})},requestAndroidPermission:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.default.requestAndroidPermission(e);case 2:n=a.sent,1==n?t.mapFlage=!0:t.refuseMapOuther();case 4:case"end":return a.stop()}}),a)})))()},callBackAddress:function(e){if(uni.showLoading({title:"加载中"}),e.regeocode&&e){var t=e.regeocode;this.form.detail=t.formatted_address,this.form.___path=e.data.result.name,this.form.consigneeAddressIdPath=e.data.result.id,this.form.consigneeAddressPath=e.data.result.name,this.form.lat=e.latitude,this.form.lon=e.longitude,uni.hideLoading()}this.mapFlage=!this.mapFlage},save:function(){var e=this;this.$refs.uForm.validate((function(t){if(t){var a=getCurrentPages(),n=a[a.length-2];e.form.id?(delete e.form.___path,delete e.form.updateBy,delete e.form.updateTime,(0,r.editAddress)(e.form).then((function(e){e.data.success&&uni.navigateTo({url:"/".concat(n.route)})}))):(delete e.form.___path,(0,r.addAddress)(e.form).then((function(e){e.data.success&&uni.navigateBack()})))}}))},getpickerParentValue:function(e){var t=this;this.form.consigneeAddressIdPath=[],this.form.consigneeAddressPath=[];var a="";e.forEach((function(n,o){if(n.id&&(t.form.consigneeAddressIdPath.push(n.id),t.form.consigneeAddressPath.push(n.localName),a+=n.localName,t.form.___path=a),o==e.length-1){var r=n.children.filter((function(e){return e.id==n.id}));t.form.lat=r[0].center.split(",")[1],t.form.lon=r[0].center.split(",")[0]}}))},showPicker:function(){this.$refs.cityPicker.show()}},mounted:function(){},data:function(){var e=this;return{lightColor:this.$lightColor,mapFlage:!1,routerVal:"",form:{detail:"",name:"",mobile:"",consigneeAddressIdPath:[],consigneeAddressPath:[],___path:"",isDefault:!1},rules:{name:[{required:!0,message:"收货人姓名不能为空",trigger:["blur","change"]}],mobile:[{required:!0,message:"手机号码不能为空",trigger:["blur","change"]},{validator:function(t,a,n){return e.$u.test.mobile(a)},message:"手机号码不正确",trigger:["change","blur"]}],___path:[{required:!0,message:"请选择所在区域",trigger:["change"]}],detail:[{required:!0,message:"请填写详细地址",trigger:["blur","change"]}]},list:[{id:"",localName:"请选择",children:[]}]}},onLoad:function(e){var t=this;uni.showLoading({title:"加载中"}),this.routerVal=e,e.id&&(0,r.getAddressDetail)(e.id).then((function(e){var a=e.data.result;a.___path=a.consigneeAddressPath,t.$set(t,"form",a),uni.hideLoading()})),uni.hideLoading()},onReady:function(){this.$refs.uForm.setRules(this.rules)}};t.default=l},b67c:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getAddressList=i,t.getLogistics=s,t.getAddressCode=d,t.addAddress=l,t.editAddress=c,t.deleteAddress=u,t.getAddressDetail=f,t.getAddressDefault=p;var o=a("6a41"),r=n(a("c419"));function i(e,t){return o.http.request({url:"/member/address",method:o.Method.GET,needToken:!0,params:{pageNumber:e,pageSize:t}})}function s(){return o.http.request({url:"/logistics",method:o.Method.GET,needToken:!0,params:{pageNumber:1,pageSize:200,disabled:"OPEN"}})}function d(e,t){return o.http.request({url:r.default.common+"/common/region/region",method:o.Method.GET,needToken:!0,params:{cityCode:e,townName:t}})}function l(e){return o.http.request({url:"/member/address",method:o.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:e})}function c(e){return o.http.request({url:"/member/address",method:o.Method.PUT,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:e})}function u(e){return o.http.request({url:"/member/address/delById/".concat(e),method:o.Method.DELETE,needToken:!0})}function f(e){return o.http.request({url:"/member/address/get/".concat(e),method:o.Method.GET,loading:!1,needToken:!0})}function p(){return o.http.request({url:"/member/address/get/default",method:o.Method.GET,loading:!1,needToken:!0})}},d01d:function(e,t,a){var n=a("32fd");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("4f06").default;o("1d2dd090",n,!0,{sourceMap:!1,shadowMode:!1})},d81c:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},r=[]},e3f4:function(e,t,a){"use strict";a.r(t);var n=a("9e0d"),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},f54a:function(e,t,a){"use strict";var n=a("8612"),o=a.n(n);o.a},fe11:function(e,t,a){var n;function o(){var e=!1,t=plus.ios.import("UIApplication"),a=t.sharedApplication(),n=0;if(a.currentUserNotificationSettings){var o=a.currentUserNotificationSettings();n=o.plusGetAttribute("types"),console.log("enabledTypes1:"+n),0==n?console.log("推送权限没有开启"):(e=!0,console.log("已经开启推送功能!")),plus.ios.deleteObject(o)}else n=a.enabledRemoteNotificationTypes(),0==n?console.log("推送权限没有开启!"):(e=!0,console.log("已经开启推送功能!")),console.log("enabledTypes2:"+n);return plus.ios.deleteObject(a),plus.ios.deleteObject(t),e}function r(){var e=!1,t=plus.ios.import("CLLocationManager"),a=t.authorizationStatus();return e=2!=a,console.log("定位权限开启："+e),plus.ios.deleteObject(t),e}function i(){var e=!1,t=plus.ios.import("AVAudioSession"),a=t.sharedInstance(),n=a.recordPermission();return console.log("permissionStatus:"+n),1684369017==n||1970168948==n?console.log("麦克风权限没有开启"):(e=!0,console.log("麦克风权限已经开启")),plus.ios.deleteObject(t),e}function s(){var e=!1,t=plus.ios.import("AVCaptureDevice"),a=t.authorizationStatusForMediaType("vide");return console.log("authStatus:"+a),3==a?(e=!0,console.log("相机权限已经开启")):console.log("相机权限没有开启"),plus.ios.deleteObject(t),e}function d(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),a=t.authorizationStatus();return console.log("authStatus:"+a),3==a?(e=!0,console.log("相册权限已经开启")):console.log("相册权限没有开启"),plus.ios.deleteObject(t),e}function l(){var e=!1,t=plus.ios.import("CNContactStore"),a=t.authorizationStatusForEntityType(0);return 3==a?(e=!0,console.log("通讯录权限已经开启")):console.log("通讯录权限没有开启"),plus.ios.deleteObject(t),e}function c(){var e=!1,t=plus.ios.import("EKEventStore"),a=t.authorizationStatusForEntityType(0);return 3==a?(e=!0,console.log("日历权限已经开启")):console.log("日历权限没有开启"),plus.ios.deleteObject(t),e}function u(){var e=!1,t=plus.ios.import("EKEventStore"),a=t.authorizationStatusForEntityType(1);return 3==a?(e=!0,console.log("备忘录权限已经开启")):console.log("备忘录权限没有开启"),plus.ios.deleteObject(t),e}function f(e){return new Promise((function(t,a){plus.android.requestPermissions([e],(function(e){for(var a=0,n=0;n<e.granted.length;n++){var o=e.granted[n];console.log("已获取的权限："+o),a=1}for(n=0;n<e.deniedPresent.length;n++){var r=e.deniedPresent[n];console.log("拒绝本次申请的权限："+r),a=0}for(n=0;n<e.deniedAlways.length;n++){var i=e.deniedAlways[n];console.log("永久拒绝申请的权限："+i),a=-1}t(a)}),(function(e){console.log("申请权限错误："+e.code+" = "+e.message),t({code:e.code,message:e.message})}))}))}function p(e){return"location"==e?r():"camera"==e?s():"photoLibrary"==e?d():"record"==e?i():"push"==e?o():"contact"==e?l():"calendar"==e?c():"memo"==e&&u()}function h(){if(n){var e=plus.ios.import("UIApplication"),t=e.sharedApplication(),a=plus.ios.import("NSURL"),o=a.URLWithString("app-settings:");t.openURL(o),plus.ios.deleteObject(o),plus.ios.deleteObject(a),plus.ios.deleteObject(t)}else{var r=plus.android.importClass("android.content.Intent"),i=plus.android.importClass("android.provider.Settings"),s=plus.android.importClass("android.net.Uri"),d=plus.android.runtimeMainActivity(),l=new r;l.setAction(i.ACTION_APPLICATION_DETAILS_SETTINGS);var c=s.fromParts("package",d.getPackageName(),null);l.setData(c),d.startActivity(l)}}function m(){if(n){var e=!1,t=plus.ios.import("CLLocationManager");e=t.locationServicesEnabled();return console.log("系统定位开启:"+e),plus.ios.deleteObject(t),e}var a=plus.android.importClass("android.content.Context"),o=plus.android.importClass("android.location.LocationManager"),r=plus.android.runtimeMainActivity(),i=r.getSystemService(a.LOCATION_SERVICE);e=i.isProviderEnabled(o.GPS_PROVIDER);return console.log("系统定位开启:"+e),e}a("d3b7"),e.exports={judgeIosPermission:p,requestAndroidPermission:f,checkSystemEnableLocation:m,gotoAppPermissionSetting:h}}}]);