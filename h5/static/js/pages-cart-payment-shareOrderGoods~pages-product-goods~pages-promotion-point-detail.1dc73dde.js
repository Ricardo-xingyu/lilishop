(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cart-payment-shareOrderGoods~pages-product-goods~pages-promotion-point-detail"],{"0a35":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={height:"1000rpx",mode:"bottom",radius:"32",close:!1};e.default=o},1866:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-23f2b67c]{color:#ff6b35}.main-color[data-v-23f2b67c]{color:#ff3c2a!important}.bg-light-color[data-v-23f2b67c]{background-color:#ff6b35!important}.bg-light-color[data-v-23f2b67c] *{background-color:#ff6b35!important}.bg-main-color[data-v-23f2b67c]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-23f2b67c]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-23f2b67c]{width:20px;height:18px}.flex[data-v-23f2b67c]{display:flex}.btn[data-v-23f2b67c]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-23f2b67c]::after{border:none}.button-hover[data-v-23f2b67c]{opacity:.7}.margin[data-v-23f2b67c]{margin:10px}.tag[data-v-23f2b67c]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-23f2b67c]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-23f2b67c]{margin-top:%?30?%}.border-top[data-v-23f2b67c]{border-top:1px solid #ebeef5}.describe[data-v-23f2b67c]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-23f2b67c]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-23f2b67c]{align-items:center}.relative[data-v-23f2b67c]{position:relative}.wes[data-v-23f2b67c]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-23f2b67c]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.u-numberbox[data-v-23f2b67c]{display:inline-flex;align-items:center}.u-number-input[data-v-23f2b67c]{position:relative;text-align:center;padding:0;margin:0 %?6?%;display:flex;align-items:center;justify-content:center}.u-icon-plus[data-v-23f2b67c],\n.u-icon-minus[data-v-23f2b67c]{width:%?60?%;display:flex;justify-content:center;align-items:center}.u-icon-plus[data-v-23f2b67c]{border-radius:0 %?8?% %?8?% 0}.u-icon-minus[data-v-23f2b67c]{border-radius:%?8?% 0 0 %?8?%}.u-icon-disabled[data-v-23f2b67c]{color:#c8c9cc!important;background:#f7f8fa!important}.u-input-disabled[data-v-23f2b67c]{color:#c8c9cc!important;background-color:#f2f3f5!important}',""]),t.exports=e},"3bde":function(t,e,a){"use strict";a.r(e);var o=a("8242"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},"3da1":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-7d8c5495]{color:#ff6b35}.main-color[data-v-7d8c5495]{color:#ff3c2a!important}.bg-light-color[data-v-7d8c5495]{background-color:#ff6b35!important}.bg-light-color[data-v-7d8c5495] *{background-color:#ff6b35!important}.bg-main-color[data-v-7d8c5495]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-7d8c5495]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-7d8c5495]{width:20px;height:18px}.flex[data-v-7d8c5495]{display:flex}.btn[data-v-7d8c5495]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-7d8c5495]::after{border:none}.button-hover[data-v-7d8c5495]{opacity:.7}.margin[data-v-7d8c5495]{margin:10px}.tag[data-v-7d8c5495]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-7d8c5495]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-7d8c5495]{margin-top:%?30?%}.border-top[data-v-7d8c5495]{border-top:1px solid #ebeef5}.describe[data-v-7d8c5495]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-7d8c5495]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-7d8c5495]{align-items:center}.relative[data-v-7d8c5495]{position:relative}.wes[data-v-7d8c5495]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-7d8c5495]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.u-image[data-v-7d8c5495]{position:relative;transition:opacity .5s ease-in-out}.u-image__image[data-v-7d8c5495]{width:100%;height:100%}.u-image__loading[data-v-7d8c5495], .u-image__error[data-v-7d8c5495]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f3f4f6;color:#909399;font-size:%?46?%}',""]),t.exports=e},4507:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"u-image",props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"auto"},shape:{type:String,default:"square"},borderRadius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"}},data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{}}},watch:{src:function(t){this.isError=!t}},computed:{wrapStyle:function(){var t={};return t.width=this.$u.addUnit(this.width),t.height=this.$u.addUnit(this.height),t.borderRadius="circle"==this.shape?"50%":this.$u.addUnit(this.borderRadius),t.overflow=this.borderRadius>0?"hidden":"visible",this.fade&&(t.opacity=this.opacity,t.transition="opacity ".concat(Number(this.durationTime)/1e3,"s ease-in-out")),t}},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(){this.loading=!1,this.isError=!0,this.$emit("error")},onLoadHandler:function(){var t=this;if(this.loading=!1,this.isError=!1,this.$emit("load"),!this.fade)return this.removeBgColor();this.opacity=0,this.durationTime=0,setTimeout((function(){t.durationTime=t.duration,t.opacity=1,setTimeout((function(){t.removeBgColor()}),t.durationTime)}),50)},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};e.default=o},"47e4":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-f0686b4e]{color:#ff6b35}.main-color[data-v-f0686b4e]{color:#ff3c2a!important}.bg-light-color[data-v-f0686b4e]{background-color:#ff6b35!important}.bg-light-color[data-v-f0686b4e] *{background-color:#ff6b35!important}.bg-main-color[data-v-f0686b4e]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-f0686b4e]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-f0686b4e]{width:20px;height:18px}.flex[data-v-f0686b4e]{display:flex}.btn[data-v-f0686b4e]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-f0686b4e]::after{border:none}.button-hover[data-v-f0686b4e]{opacity:.7}.margin[data-v-f0686b4e]{margin:10px}.tag[data-v-f0686b4e]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-f0686b4e]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-f0686b4e]{margin-top:%?30?%}.border-top[data-v-f0686b4e]{border-top:1px solid #ebeef5}.describe[data-v-f0686b4e]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-f0686b4e]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-f0686b4e]{align-items:center}.relative[data-v-f0686b4e]{position:relative}.wes[data-v-f0686b4e]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-f0686b4e]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.view-class-title[data-v-f0686b4e]{font-size:%?26?%;color:#262626;font-weight:700;height:%?80?%;line-height:%?80?%}.confirmBtn[data-v-f0686b4e]{width:90%}.confirmBtn[data-v-f0686b4e],\n.box-btn[data-v-f0686b4e]{line-height:%?80?%;height:%?80?%;background:#ff3c2a;color:#fff;border-radius:200px;text-align:center;margin:%?5?% auto}.btns[data-v-f0686b4e]{display:flex;width:100%;margin:0 auto}.goods-price-bigshow[data-v-f0686b4e]{font-size:%?48?%;font-weight:700}.box-btn[data-v-f0686b4e]{flex:1;margin:0 %?10?%}.buy[data-v-f0686b4e]{background-image:linear-gradient(135deg,#ffba0d,#ffc30d 69%,#ffcf0d);box-shadow:0 2px 6px 0 rgba(255,65,66,.2)}.card[data-v-f0686b4e]{background-image:linear-gradient(135deg,#f2140c,#f2270c 70%,#f24d0c);box-shadow:0 2px 6px 0 rgba(255,65,66,.2)}[data-v-f0686b4e] .u-icon-plus,\n.u-icon-minus[data-v-f0686b4e],\n.u-icon-disabled[data-v-f0686b4e]{height:%?30?%!important;background:#fff!important}.goods-skus-number[data-v-f0686b4e]{justify-content:space-between;display:flex}[data-v-f0686b4e] .uni-scroll-view{overflow:hidden!important}.active[data-v-f0686b4e]{background:#fcedeb!important;border:%?2?% solid #ff3c2a;font-weight:700;color:#ff3c2a!important;box-sizing:border-box}.goods-skus-box[data-v-f0686b4e]{overflow-y:auto;height:%?610?%;margin-bottom:%?10?%}.goods-skus-view[data-v-f0686b4e]{overflow:hidden}.goods-skus-view .skus-view-list > .skus-view-item[data-v-f0686b4e]{flex:1;padding:0 %?36?%;overflow:hidden;height:%?60?%;line-height:%?60?%;float:left;text-align:center;margin-left:%?24?%;margin-bottom:%?20?%;font-size:%?22?%;color:#262626;background:#f2f2f2;border-radius:%?30?%}.goods-header[data-v-f0686b4e]{height:%?200?%;display:flex;align-items:center;margin-bottom:%?36?%}.goods-box[data-v-f0686b4e]{padding:%?50?% %?36?% 0 %?36?%}.goods-skus[data-v-f0686b4e]{padding:0 %?20?%}.goods-price[data-v-f0686b4e]{color:#ff3c2a;line-height:%?80?%;display:flex}.promotion-box[data-v-f0686b4e]{line-height:1;display:flex;align-items:center;text-decoration:line-through;color:#999;margin-left:%?10?%}.promotion-box[data-v-f0686b4e] span{font-size:%?30?%}.promotion[data-v-f0686b4e]{font-size:%?30?%}.goods-price-promotionShow[data-v-f0686b4e]{font-size:%?48?%}.goods-check-skus[data-v-f0686b4e]{font-size:%?24?%;color:#999}.goods-check-skus > .goods-check-skus-name[data-v-f0686b4e]{margin-left:%?4?%}.goods-check-skus > span[data-v-f0686b4e]{color:#333}',""]),t.exports=e},"50bd":function(t,e,a){var o=a("1866");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("5f7874ca",o,!0,{sourceMap:!1,shadowMode:!1})},"70f3":function(t,e,a){"use strict";a.r(e);var o=a("7878"),n=a("d342");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("77ae");var r,d=a("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"f0686b4e",null,!1,o["a"],r);e["default"]=s.exports},"77ae":function(t,e,a){"use strict";var o=a("9a89"),n=a.n(o);n.a},7878:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var o={uPopup:a("ff01").default,uImage:a("fcf9").default,uNumberBox:a("bb88").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("u-popup",{staticClass:"popup",attrs:{height:t.setup.height,closeable:!0,mode:t.setup.mode,"border-radius":t.setup.radius},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeMask()}},model:{value:t.buyMask,callback:function(e){t.buyMask=e},expression:"buyMask"}},[a("v-uni-view",{staticClass:"goods-box bottom"},[a("v-uni-view",{staticClass:"goods-header"},[a("v-uni-view",{staticClass:"goods-img"},[a("u-image",{staticClass:"uimage",attrs:{width:"200rpx","border-radius":"20",height:"200rpx",src:t.selectedSpecImg?t.selectedSpecImg:t.goodsDetail.thumbnail}})],1),a("v-uni-view",{staticClass:"goods-skus"},[t.goodsDetail.promotionPrice&&(t.isGroup&&"PINTUAN"===t.buyType||!t.isGroup)?a("v-uni-view",{staticClass:"goods-price"},[t.goodsDetail.promotionPrice&&!t.pointDetail?a("span",[t._v("￥"),a("span",{staticClass:"goods-price-promotionShow goods-price-bigshow"},[t._v(t._s(t.formatPrice(t.goodsDetail.promotionPrice)[0]))]),t._v("."+t._s(t.formatPrice(t.goodsDetail.promotionPrice)[1]))]):t._e(),t.pointDetail.points?a("span",[a("span",{staticClass:"goods-price-promotionShow goods-price-bigshow"},[t._v(t._s(t.pointDetail.points))]),t._v("积分")]):t._e(),a("div",{staticClass:"promotion-box"},[t._v("￥"),a("span",{staticClass:"goods-price-bigshow"},[t._v(t._s(t.formatPrice(t.goodsDetail.price)[0]))]),t._v("."+t._s(t.formatPrice(t.goodsDetail.price)[1]))])]):a("v-uni-view",{staticClass:"goods-price"},[a("span",[t._v("￥"),a("span",{staticClass:"goods-price-bigshow"},[t._v(t._s(t.formatPrice(t.goodsDetail.price)[0]))]),t._v("."+t._s(t.formatPrice(t.goodsDetail.price)[1]))])]),a("v-uni-view",{staticClass:"goods-check-skus"},[t._v("已选"),a("span",{staticClass:"goods-check-skus-name"},[t._v(t._s(t.selectName)),a("span",[t._v("，"+t._s(t.num)+"个")])])])],1)],1),a("v-uni-scroll-view",{staticClass:"goods-skus-box",attrs:{"scroll-y":!0}},[t._l(t.formatList,(function(e,o){return a("v-uni-view",{key:o,staticClass:"goods-skus-view"},[a("v-uni-view",{staticClass:"skus-view-list"},[a("v-uni-view",{staticClass:"view-class-title"},[t._v(t._s(e.name))]),t._l(e.values,(function(n,i){return t.parentOrder?t._e():a("v-uni-view",{key:i,staticClass:"skus-view-item",class:{active:n.value==t.currentSelceted[o]},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleClickSpec(e,o,n)}}},[t._v(t._s(n.value))])})),t._l(e.values,(function(n,i){return t.parentOrder&&n.skuId==t.goodsDetail.id?a("v-uni-view",{key:i,staticClass:"skus-view-item",class:{active:n.value==t.currentSelceted[o]},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleClickSpec(e,o,n)}}},[t._v(t._s(n.value))]):t._e()}))],2)],1)})),a("v-uni-view",{staticClass:"goods-skus-number"},[a("v-uni-view",{staticClass:"view-class-title"},[t._v("数量")]),a("u-number-box",{attrs:{"bg-color":t.numberBox.bgColor,max:200,color:t.numberBox.color,"input-width":t.numberBox.width,"input-height":t.numberBox.height,size:t.numberBox.size,min:1},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],2),a("v-uni-view",{staticClass:"btns"},["PINTUAN"!=t.buyType&&"VIRTUAL_GOODS"!=t.goodsDetail.goodsType?a("v-uni-view",{staticClass:"box-btn card",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addToCartOrBuy("cart")}}},[t._v("加入购物车")]):t._e(),a("v-uni-view",{staticClass:"box-btn buy",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addToCartOrBuy("buy")}}},[t._v("立即购买")])],1)],1)],1)],1)},i=[]},"78c3":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var o={uIcon:a("673b").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-numberbox"},[a("v-uni-view",{staticClass:"u-icon-minus",class:{"u-icon-disabled":t.disabled||t.inputVal<=t.min},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("minus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:"minus",size:t.size}})],1),a("v-uni-input",{staticClass:"u-number-input",class:{"u-input-disabled":t.disabled},style:{color:t.color,fontSize:t.size+"rpx",background:t.bgColor,height:t.inputHeight+"rpx",width:t.inputWidth+"rpx"},attrs:{disabled:t.disabledInput||t.disabled,"cursor-spacing":t.getCursorSpacing,type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onBlur.apply(void 0,arguments)}},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),a("v-uni-view",{staticClass:"u-icon-plus",class:{"u-icon-disabled":t.disabled||t.inputVal>=t.max},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("plus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:"plus",size:t.size}})],1)],1)},i=[]},8242:function(t,e,a){"use strict";a("c975"),a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"u-number-box",props:{value:{type:Number,default:1},bgColor:{type:String,default:"#F2F3F5"},min:{type:Number,default:0},max:{type:Number,default:99999},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:26},color:{type:String,default:"#323233"},inputWidth:{type:[Number,String],default:80},inputHeight:{type:[Number,String],default:50},index:{type:[Number,String],default:""},disabledInput:{type:Boolean,default:!1},cursorSpacing:{type:[Number,String],default:100},longPress:{type:Boolean,default:!0},pressTime:{type:[Number,String],default:250},positiveInteger:{type:Boolean,default:!0}},watch:{value:{handler:function(t,e){this.inputVal=t},immediate:!0},inputVal:function(t,e){var a=this;if(""!=t){var o=0,n=this.$u.test.number(t);o=n&&t>=this.min&&t<=this.max?t:e,this.positiveInteger&&(t<0||-1!==String(t).indexOf("."))&&(o=e,this.$nextTick((function(){a.inputVal=e}))),this.handleChange(o,"change")}}},data:function(){return{inputVal:1,timer:null,changeFromInner:!1}},created:function(){this.inputVal=Number(this.value)},computed:{getCursorSpacing:function(){return Number(uni.upx2px(this.cursorSpacing))}},methods:{btnTouchStart:function(t){var e=this;this[t](),this.longPress&&(clearInterval(this.timer),this.timer=null,this.timer=setInterval((function(){e[t]()}),this.pressTime))},clearTimer:function(){var t=this;this.$nextTick((function(){clearInterval(t.timer),t.timer=null}))},minus:function(){this.computeVal("minus")},plus:function(){this.computeVal("plus")},calcPlus:function(t,e){var a,o,n;try{o=t.toString().split(".")[1].length}catch(r){o=0}try{n=e.toString().split(".")[1].length}catch(r){n=0}a=Math.pow(10,Math.max(o,n));var i=o>=n?o:n;return((t*a+e*a)/a).toFixed(i)},calcMinus:function(t,e){var a,o,n;try{o=t.toString().split(".")[1].length}catch(r){o=0}try{n=e.toString().split(".")[1].length}catch(r){n=0}a=Math.pow(10,Math.max(o,n));var i=o>=n?o:n;return((t*a-e*a)/a).toFixed(i)},computeVal:function(t){if(uni.hideKeyboard(),!this.disabled){var e=0;"minus"===t?e=this.calcMinus(this.inputVal,this.step):"plus"===t&&(e=this.calcPlus(this.inputVal,this.step)),e<this.min||e>this.max||(this.inputVal=e,this.handleChange(e,t))}},onBlur:function(t){var e=this,a=0,o=t.detail.value;/(^\d+$)/.test(o)&&0!=o[0]||(a=this.min),a=+o,a>this.max?a=this.max:a<this.min&&(a=this.min),this.$nextTick((function(){e.inputVal=a}))},handleChange:function(t,e){this.disabled||(this.changeFromInner=!0,this.$emit("input",Number(t)),this.$emit(e,{value:Number(t),index:this.index}))}}};e.default=o},"8e01":function(t,e,a){"use strict";a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.getCarts=n,e.getCartNum=i,e.getCartCouponNum=r,e.addToCart=d,e.updateSkuNum=s,e.updateSkuChecked=c,e.deleteSkuItem=u,e.checkAll=l,e.checkStore=f,e.getCheckoutParams=p,e.setAddressId=h,e.createTrade=b,e.getCashierData=g,e.initiatePay=v,e.getExpress=m,e.getMemberCanUse=y,e.getMemberCouponList=w,e.useCoupon=x,e.changeActivity=k,e.reBuy=T;var o=a("9d47");function n(){return o.http.request({url:"/trade/carts/all",method:o.Method.GET,needToken:!0,loading:!1})}function i(){return o.http.request({url:"/trade/carts/count",method:o.Method.GET,needToken:!0,loading:!1})}function r(t){return o.http.request({url:"/trade/carts/coupon/num?way=".concat(t),method:o.Method.GET,needToken:!0,loading:!1})}function d(t){return o.http.request({url:"/trade/carts",method:o.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:t})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.http.request({url:"/trade/carts/sku/num/".concat(t),method:o.Method.POST,header:{"content-type":"application/x-www-form-urlencoded"},needToken:!0,data:{num:e}})}function c(t,e){return o.http.request({url:"/trade/carts/sku/checked/".concat(t),method:o.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:{checked:e}})}function u(t){return o.http.request({url:"/trade/carts/sku/remove?skuIds=".concat(t),method:o.Method.DELETE,needToken:!0})}function l(t){return o.http.request({url:"/trade/carts/sku/checked",method:o.Method.POST,needToken:!0,params:{checked:t}})}function f(t,e){return o.http.request({url:"/trade/carts/store/".concat(t),method:o.Method.POST,needToken:!0,header:{"content-type":"application/x-www-form-urlencoded"},data:{checked:e}})}function p(t){return o.http.request({url:"/trade/carts/checked?way="+t,method:o.Method.GET,needToken:!0})}function h(t,e){return o.http.request({url:"/trade/carts/shippingAddress?shippingAddressId=".concat(t,"&way=").concat(e),method:o.Method.GET,needToken:!0})}function b(t){return o.http.request({url:"/trade/carts/create/trade",method:o.Method.POST,needToken:!0,message:!1,data:t})}function g(t){return o.http.request({url:"payment/cashier/tradeDetail",method:o.Method.GET,needToken:!0,params:t})}function v(t,e,a){return o.http.request({url:"payment/cashier/pay/".concat(t,"/").concat(e),method:o.Method.GET,needToken:!0,params:a})}function m(t){return o.http.request({url:"/order/order/getTraces/".concat(t),method:o.Method.POST,needToken:!0})}function y(t){return o.http.request({url:"/promotion/coupon/canUse",method:o.Method.GET,params:t})}function w(t){return o.http.request({url:"/promotion/coupon/getCoupons",method:o.Method.GET,params:t})}function x(t){return o.http.request({url:"/trade/carts/select/coupon",method:o.Method.GET,needToken:!0,params:t})}function k(t){return o.http.request({url:"trade/promotion",method:o.Method.POST,needToken:!0,data:t,header:{"content-type":"application/x-www-form-urlencoded"}})}function T(t){return o.http.request({url:"trade/carts/rebuy/".concat(t),method:o.Method.POST,needToken:!0})}},"9a89":function(t,e,a){var o=a("47e4");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("0d3319f8",o,!0,{sourceMap:!1,shadowMode:!1})},a948:function(t,e,a){"use strict";var o=a("ffea"),n=a.n(o);n.a},b9d5:function(t,e,a){"use strict";var o=a("50bd"),n=a.n(o);n.a},bb34:function(t,e,a){"use strict";a.r(e);var o=a("4507"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},bb88:function(t,e,a){"use strict";a.r(e);var o=a("78c3"),n=a("3bde");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("b9d5");var r,d=a("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"23f2b67c",null,!1,o["a"],r);e["default"]=s.exports},bc33:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var o={uIcon:a("673b").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-image",style:[t.wrapStyle,t.backgroundStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t.isError?t._e():a("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.borderRadius)},attrs:{src:t.src,mode:t.mode,"lazy-load":t.lazyLoad},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.onErrorHandler.apply(void 0,arguments)},load:function(e){arguments[0]=e=t.$handleEvent(e),t.onLoadHandler.apply(void 0,arguments)}}}),t.showLoading&&t.loading?a("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.borderRadius),backgroundColor:this.bgColor}},[t.$slots.loading?t._t("loading"):a("u-icon",{attrs:{name:t.loadingIcon,width:t.width,height:t.height}})],2):t._e(),t.showError&&t.isError&&!t.loading?a("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.borderRadius)}},[t.$slots.error?t._t("error"):a("u-icon",{attrs:{name:t.errorIcon,width:t.width,height:t.height}})],2):t._e()],1)},i=[]},c13e:function(t,e,a){"use strict";var o=a("4ea4"),n=a("dbce");a("99af"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("d81d"),a("d3b7"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("8e01")),r=o(a("0a35")),d={data:function(){return{setup:r.default,num:1,numberBox:{width:"50",height:"50",size:"22",color:"#333",bgColor:"#fff"},selectName:"",selectSkuList:"",selectedSpecImg:"",buyType:"",parentOrder:"",formatList:[],currentSelceted:[],skuList:"",isClose:!1}},props:{buyMask:{type:Boolean,default:!1},isGroup:{type:Boolean,default:!1},goodsDetail:{default:"",type:null},selectedSku:{default:"",type:null},goodsSpec:{default:"",type:null},addr:{default:"",type:null},pointDetail:{default:"",type:null}},watch:{buyType:{handler:function(t){t&&(this.buyType=t)},immediate:!0},selectSkuList:{handler:function(t,e){this.$emit("changed",t)},deep:!0}},methods:{formatPrice:function(t){return"undefined"==typeof t?t:t.toFixed(2).split(".")},closeMask:function(){this.$emit("closeBuy",!1)},handleClickSpec:function(t,e,a){var o=this;this.currentSelceted[e]=a.value;var n=this.goodsSpec.find((function(t){for(var e=!0,a=t.specValues.filter((function(t){return"images"!==t.specName})),n=0;n<a.length;n++)if(a[n].specValue!==o.currentSelceted[n])return void(e=!1);if(e)return t}));(null===n||void 0===n?void 0:n.skuId)?(this.$set(this.currentSelceted,e,a.value),this.selectSkuList={spec:{specName:t.name,specValue:a.value},data:this.goodsDetail},this.selectName=a.value,this.$emit("handleClickSku",{skuId:n.skuId,goodsId:this.goodsDetail.goodsId})):uni.showToast({title:"暂无该商品!",duration:2e3,icon:"none"})},buy:function(t){var e=this;i.addToCart(t).then((function(a){a.data.success&&uni.navigateTo({url:"/pages/order/fillorder?way=".concat(t.cartType,"&addr=","&parentOrder=").concat(encodeURIComponent(JSON.stringify(e.parentOrder)))})}))},addToCartOrBuy:function(t){var e=this;if(this.selectSkuList){var a={skuId:this.goodsDetail.id,num:this.num};"cart"==t?i.addToCart(a).then((function(t){200==t.data.code&&(uni.showToast({title:"商品已添加到购物车",icon:"none"}),e.$emit("queryCart"),e.closeMask())})):(this.buyType?a.cartType="PINTUAN":"VIRTUAL_GOODS"==this.goodsDetail.goodsType?a.cartType="VIRTUAL":a.cartType="BUY_NOW",i.addToCart(a).then((function(t){200==t.data.code&&uni.navigateTo({url:"/pages/order/fillorder?way=".concat(a.cartType,"&addr=").concat(e.addr.id||"","&parentOrder=").concat(encodeURIComponent(JSON.stringify(e.parentOrder)))})})))}else uni.showToast({title:"请选择规格商品",icon:"none"})},formatSku:function(t){var e=this,a=[{}];if(!Array.isArray(t))return!1;t.forEach((function(t,e){t.specValues.forEach((function(e,o){var n=e.specName,i={value:e.specValue,quantity:t.quantity,skuId:t.skuId};"images"!==n&&a.forEach((function(t,e){t.name==n&&t.values&&!t.values.find((function(t){return t.value===i.value}))&&t.values.push(i);var o=a.map((function(t){return t.name}));o.includes(n)||a.push({name:n,values:[i]})}))}))})),a.shift(),this.formatList=a,t.forEach((function(t){t.skuId===e.goodsDetail.id&&t.specValues.filter((function(t){return"images"!==t.specName})).forEach((function(t,a){e.currentSelceted[a]=t.specValue,e.selectName=t.specValue,e.selectSkuList={spec:t,data:e.goodsDetail}}))})),this.skuList=t}},mounted:function(){this.formatSku(this.goodsSpec)}};e.default=d},d342:function(t,e,a){"use strict";a.r(e);var o=a("c13e"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},fcf9:function(t,e,a){"use strict";a.r(e);var o=a("bc33"),n=a("bb34");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("a948");var r,d=a("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"7d8c5495",null,!1,o["a"],r);e["default"]=s.exports},ffea:function(t,e,a){var o=a("3da1");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("189c4be9",o,!0,{sourceMap:!1,shadowMode:!1})}}]);